import { useState, useCallback } from 'react';\nimport { authService } from '../services/authService';\nimport { getCurrentAuthToken, TokenErrorTypes } from '../utils/tokenUtils';\n\ninterface UseTokenRefreshResult {\n  isRefreshing: boolean;\n  refreshToken: () => Promise<boolean>;\n  hasValidToken: () => boolean;\n}\n\n/**\n * Hook for managing token refresh state and operations\n */\nexport function useTokenRefresh(): UseTokenRefreshResult {\n  const [isRefreshing, setIsRefreshing] = useState(false);\n\n  const refreshToken = useCallback(async (): Promise<boolean> => {\n    if (isRefreshing) {\n      return false; // Already refreshing\n    }\n\n    setIsRefreshing(true);\n    \n    try {\n      const result = await authService.refreshToken();\n      \n      if (result.success) {\n        console.log('Token refresh successful');\n        return true;\n      } else {\n        console.error('Token refresh failed:', result.error);\n        return false;\n      }\n    } catch (error) {\n      console.error('Token refresh error:', error);\n      return false;\n    } finally {\n      setIsRefreshing(false);\n    }\n  }, [isRefreshing]);\n\n  const hasValidToken = useCallback((): boolean => {\n    const token = getCurrentAuthToken();\n    return !!token;\n  }, []);\n\n  return {\n    isRefreshing,\n    refreshToken,\n    hasValidToken,\n  };\n}